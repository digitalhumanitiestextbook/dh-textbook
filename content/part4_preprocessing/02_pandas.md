---
title: Pandas
---

<!-- colab-button:start -->
<div class="colab-button">
  <a
    href="https://colab.research.google.com/github/digitalhumanitiestextbook/dh-textbook/blob/main/notebooks/part4_regex/02_regex_basic.ipynb"
    target="_blank"
    rel="noopener"
  >
    Colab에서 실행하기
  </a>
</div>
<!-- colab-button:end -->

## Pandas

앞에서 우리는 인문학 연구에서 마주칠 수 있는 텍스트 데이터의 다양한 얼굴들을 살펴봤습니다. 그렇다면 이렇게 다양한 형식의 데이터들을 파이썬으로 어떻게 효율적으로 다룰 수 있을까요? 특히 CSV나 TSV처럼 반듯한 표(Table) 형태로 정리된 데이터를 자유자재로 다루려면, 파이썬의 기본 기능만으로는 많은 노력이 필요합니다.

이때, 데이터 과학의 '맥가이버 칼'이라 불리는 **Pandas** 라이브러리가 등장합니다. Pandas는 파이썬으로 데이터 분석을 수행하는 거의 모든 연구자와 개발자들이 사용하는 핵심 도구입니다. Pandas가 제공하는 **DataFrame**이라는 강력한 자료구조는, 우리가 2장에서 배운 딕셔너리와 리스트의 원리를 기반으로 작동하며, 엑셀 시트와 같은 2차원 표 데이터를 놀랍도록 쉽고 효율적으로 처리하게 해줍니다.

이제부터 우리는 Pandas를 사용하여 데이터를 불러오고, 정제하며, 분석하는 모든 과정을 함께할 것입니다. '바이브 코딩'을 통해 우리의 첫 번째 DataFrame을 직접 만들어 봅시다.

## 2.1 Pandas와 DataFrame 첫 만남

> 💡 **핵심 개념**
>
> * **Pandas:** 파이썬에서 표 형태의 데이터를 쉽게 다룰 수 있게 해주는 라이브러리(도구 모음).
> * **DataFrame:** Pandas가 제공하는 2차원 표 형태의 자료구조. 엑셀 시트와 유사하며, 행(row)과 열(column)으로 구성됨.

**간단 프롬프트 1:**
> "Pandas로 '프렌즈' 캐릭터 정보 DataFrame 만들어줘."

**상세 프롬프트 1:**
> "파이썬의 딕셔너리를 사용해서 '프렌즈' 주인공 3명의 정보(이름, 직업)를 담은 Pandas DataFrame을 만들어줘. 데이터는 '이름': ['모니카', '레이첼', '피비'], '직업': ['요리사', '패션 전문가', '안마사']로 구성하고, 생성된 DataFrame을 화면에 출력하는 코드를 AI로 만들어줘."

**(AI 생성 코드 예상 및 함께 검토):**
```python
# 데이터 분석의 필수 라이브러리, pandas를 불러옵니다. 앞으로 pd라는 별명으로 부르겠습니다.
import pandas as pd

# 딕셔너리 형태로 데이터를 준비합니다. Key가 열(column)의 이름이 됩니다.
friends_data = {
    '이름': ['모니카', '레이첼', '피비'],
    '직업': ['요리사', '패션 전문가', '안마사']
}

# pd.DataFrame() 함수를 사용해 딕셔너리를 DataFrame으로 변환합니다.
df_friends = pd.DataFrame(friends_data)

# 생성된 DataFrame을 출력합니다.
print(df_friends)
```

**실행 및 설명:**

**결과 확인:**
```
  이름        직업
0  모니카       요리사
1  레이첼  패션 전문가
2   피비      안마사
```
* `import pandas as pd`: Pandas 라이브러리를 사용하기 위해 불러오는 코드입니다. `as pd`는 앞으로 `pandas`를 `pd`라는 짧은 이름으로 사용하겠다는, 전 세계 파이썬 사용자들이 따르는 일종의 약속(관례)입니다.
* `friends_data = {...}`: 2장에서 배운 딕셔너리입니다. 여기서 '이름', '직업' 같은 Key는 나중에 DataFrame의 **열(Column) 이름**이 되고, `['모니카', '레이첼', '피비']` 같은 Value 리스트는 각 열의 **데이터**가 됩니다.
* `pd.DataFrame(friends_data)`: Pandas의 가장 핵심적인 기능입니다. 파이썬 딕셔너리나 리스트 같은 데이터를 입력받아, 우리가 다루기 쉬운 표 형태의 DataFrame으로 만들어줍니다.
* **결과 해석**: 화면에 출력된 결과는 행(가로줄)과 열(세로줄)을 가진 깔끔한 표입니다. 맨 왼쪽의 0, 1, 2는 '**인덱스(Index)**'라고 부르며, 각 행을 구분하는 고유한 번호표 역할을 합니다.

---

##### 인덱스(Index) 직접 지정하기

기본적으로 DataFrame은 0부터 시작하는 숫자를 인덱스로 사용합니다. 하지만 때로는 우리가 직접 의미 있는 값으로 인덱스를 지정하고 싶을 때가 있습니다. 예를 들어, 각 행의 번호표를 숫자가 아닌 등장인물의 이름으로 붙이는 것입니다.

**간단 프롬프트 2:**
> "인물 이름이 인덱스인 DataFrame 만들어줘."

**상세 프롬프트 2:**
> "이번에는 '프렌즈' 남자 주인공 3명의 정보를 DataFrame으로 만들고 싶어. 데이터는 '나이': [26, 25, 26], '별명': ['빙', '트리비아니', '고생물학자']로 구성해줘. 그리고 숫자 인덱스 대신, 각 인물의 이름('챈들러', '조이', '로스')을 직접 행의 이름(인덱스)으로 사용하는 코드를 만들어줘."

**(AI 생성 코드 예상 및 함께 검토):**
```python
import pandas as pd

friends_data_male = {
    '나이': [26, 25, 26],
    '별명': ['빙', '트리비아니', '고생물학자']
}

# 인덱스로 사용할 이름 리스트를 따로 만듭니다.
index_names = ['챈들러', '조이', '로스']

# DataFrame을 만들 때 index 파라미터에 준비된 리스트를 전달합니다.
df_friends_male = pd.DataFrame(friends_data_male, index=index_names)

print(df_friends_male)
```

**실행 및 설명:**

**결과 확인:**
```
      나이      별명
챈들러  26       빙
조이    25  트리비아니
로스    26  고생물학자
```
* `index=index_names`: `pd.DataFrame()` 함수 안에서 `index`라는 매개변수(파라미터)에 우리가 준비한 이름 리스트를 전달하면, DataFrame의 인덱스가 해당 리스트의 값들로 설정됩니다.
* **결과 해석**: 이제 맨 왼쪽의 인덱스가 0, 1, 2가 아닌 '챈들러', '조이', '로스'라는 의미 있는 이름으로 바뀐 것을 볼 수 있습니다. 이렇게 하면 나중에 "챈들러의 정보만 보여줘"와 같이 특정 행의 데이터를 이름으로 쉽게 찾을 수 있어 매우 편리합니다.

이번 섹션에서는 데이터 분석의 핵심 도구인 Pandas와 그 기본 단위인 DataFrame에 대해 배웠습니다. 딕셔너리를 활용해 직접 DataFrame을 만들고, 인덱스를 지정하는 방법까지 익혔습니다. 우리가 앞으로 다룰 모든 데이터는 결국 이 DataFrame이라는 그릇에 담기게 될 것입니다.

이제 우리 손으로 직접 표를 만드는 법을 알았으니, 다음 단계는 이미 만들어진 외부의 데이터 파일(CSV, XML 등)을 이 DataFrame으로 불러오는 것입니다. 다음 섹션에서 그 방법을 알아보겠습니다.
